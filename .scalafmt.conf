version = "3.5.9"

# Set the maximum line length
maxColumn = 100

# Enable alignment of case arrows
align = more
align.arrowEnumeratorGenerator = true
align.tokens = [
  { code = "=>", owner = "Case"},
  { code = "%%", owner = "Term.ApplyInfix"},
  { code = "<-", owner = "Enumerator.Generator"},
  { code = "=" , owner = "Defn.Val"},
  { code = "=" , owner = "Defn.Var"},
  { code = "->", owner = "Term.ApplyInfix"}
]

# Allow dangling parentheses
danglingParentheses = true

# Newline before `extends` and `with`
newlines {
  beforeExtends = true
  beforeWith = true
}

# Format function signatures in a way that the parameters are aligned
continuationIndent {
  callSite = 2
  defnSite = 2
}

# Format case arrows consistently
unindentTopLevelOperators = true

# Control how vertical alignment works
align.openParenCallSite = false
align.openParenDefnSite = false

# Allow infix operators
infix {
  operator = true
  noIndentAfterSymbolicOperator = true
}

# Avoid too long lines
includeCurlyBraceInSelectChains = false

# Force breaks before infix operators
binPack {
  literals = false
  parentConstructors = true
  singleLineCaseStatements = true
}

# Format import statements
importSelectors = singleLine

# Use consistent spacing around brackets
spaces {
  inImportCurlyBraces = false
  afterKeywordBeforeParen = true
}

# Control how blank lines are handled
optIn.blankLine.beforeDocstring = true
optIn.blankLine.afterDocstring = true
optIn.blankLine.beforePackage = true

# Include trailing commas where appropriate
trailingCommas = always